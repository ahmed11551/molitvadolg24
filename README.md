# –¢—Ä–µ–∫–µ—Ä –Ω–∞–º–∞–∑–æ–≤ - Prayer-Debt

Telegram Mini App –¥–ª—è —Ä–∞—Å—á–µ—Ç–∞ –∏ –æ—Ç—Å–ª–µ–∂–∏–≤–∞–Ω–∏—è –≤–æ—Å–ø–æ–ª–Ω–µ–Ω–∏—è –ø—Ä–æ–ø—É—â–µ–Ω–Ω—ã—Ö –æ–±—è–∑–∞—Ç–µ–ª—å–Ω—ã—Ö –Ω–∞–º–∞–∑–æ–≤ –ø–æ —Ö–∞–Ω–∞—Ñ–∏—Ç—Å–∫–æ–º—É –º–∞–∑—Ö–∞–±—É.

## üìã –°–æ–¥–µ—Ä–∂–∞–Ω–∏–µ

- [–û—Å–Ω–æ–≤–Ω—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏](#–æ—Å–Ω–æ–≤–Ω—ã–µ-—Ñ—É–Ω–∫—Ü–∏–∏)
- [–¢–µ—Ö–Ω–æ–ª–æ–≥–∏–∏](#—Ç–µ—Ö–Ω–æ–ª–æ–≥–∏–∏)
- [–ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç](#–±—ã—Å—Ç—Ä—ã–π-—Å—Ç–∞—Ä—Ç)
- [–ó–∞–ø—É—Å–∫ —á–µ—Ä–µ–∑ Docker](#–∑–∞–ø—É—Å–∫-—á–µ—Ä–µ–∑-docker)
- [–†–∞–∑—Ä–∞–±–æ—Ç–∫–∞](#—Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∞)
- [API –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è](#api-–∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è)
- [–ü–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è](#–ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ-–æ–∫—Ä—É–∂–µ–Ω–∏—è)
- [–¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ](#—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ)

## üïå –û—Å–Ω–æ–≤–Ω—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏

### –ü—Ä–æ–ø—É—â–µ–Ω–Ω—ã–µ –Ω–∞–º–∞–∑—ã (–ö–∞–∑–∞)
- **–†–∞—Å—á—ë—Ç –¥–æ–ª–≥–∞** ‚Äî –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π —Ä–∞—Å—á–µ—Ç –ø—Ä–æ–ø—É—â–µ–Ω–Ω—ã—Ö –Ω–∞–º–∞–∑–æ–≤ —Å –º–æ–º–µ–Ω—Ç–∞ –±—É–ª—é–≥–∞
- **–ü—Ä–æ–≥—Ä–µ—Å—Å** ‚Äî –æ—Ç—Å–ª–µ–∂–∏–≤–∞–Ω–∏–µ –≤–æ—Å–ø–æ–ª–Ω–µ–Ω–∏—è –ø–æ –∫–∞–∂–¥–æ–º—É –Ω–∞–º–∞–∑—É
- **AI-–ø–ª–∞–Ω** ‚Äî –ø–µ—Ä—Å–æ–Ω–∞–ª—å–Ω—ã–µ —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏ –¥–ª—è —ç—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω–æ–≥–æ –≤–æ—Å–ø–æ–ª–Ω–µ–Ω–∏—è
- **–°–∞—Ñ–∞—Ä-–Ω–∞–º–∞–∑—ã** ‚Äî –æ—Ç–¥–µ–ª—å–Ω—ã–π —Ç—Ä–µ–∫–∏–Ω–≥ —Å–æ–∫—Ä–∞—â–µ–Ω–Ω—ã—Ö –Ω–∞–º–∞–∑–æ–≤ –≤ –ø—É—Ç–µ—à–µ—Å—Ç–≤–∏—è—Ö
- **–û—Ç—á—ë—Ç—ã** ‚Äî –¥–µ—Ç–∞–ª—å–Ω–∞—è —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –∏ PDF –æ—Ç—á–µ—Ç—ã
- **–¶–µ–ª–∏** ‚Äî —Å–∏—Å—Ç–µ–º–∞ —Ü–µ–ª–µ–π –∏ –ø—Ä–∏–≤—ã—á–µ–∫ —Å –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–º —Å–æ–∑–¥–∞–Ω–∏–µ–º
- **–ö–∞–ª–µ–Ω–¥–∞—Ä—å** ‚Äî –≤–∏–∑—É–∞–ª—å–Ω—ã–π –∫–∞–ª–µ–Ω–¥–∞—Ä—å —Å –æ—Ç—Å–ª–µ–∂–∏–≤–∞–Ω–∏–µ–º –ø–æ –¥–Ω—è–º

### –ó–∏–∫—Ä—ã
- **–î—É–∞** ‚Äî 9 –∫–∞—Ç–µ–≥–æ—Ä–∏–π, 26 –º–æ–ª—å–± (–ø–µ—Ä–µ–¥ —Å–Ω–æ–º, –ø–æ—Å–ª–µ –Ω–∞–º–∞–∑–∞, –≤ —Ö–∞–¥–∂–µ –∏ —Ç.–¥.)
- **–ê–∑–∫–∞—Ä—ã** ‚Äî 5 –∫–∞—Ç–µ–≥–æ—Ä–∏–π, 13 –ø–æ–º–∏–Ω–∞–Ω–∏–π —Å —Å—á–µ—Ç—á–∏–∫–∞–º–∏
- **–°–∞–ª–∞–≤–∞—Ç—ã** ‚Äî –±–ª–∞–≥–æ—Å–ª–æ–≤–µ–Ω–∏—è –Ω–∞ –ü—Ä–æ—Ä–æ–∫–∞ –ú—É—Ö–∞–º–º–∞–¥–∞ Ô∑∫
- **–ö–∞–ª–∏–º—ã** ‚Äî –≤—Å–µ 6 –æ—Å–Ω–æ–≤–æ–ø–æ–ª–∞–≥–∞—é—â–∏—Ö —Ñ–æ—Ä–º—É–ª –≤–µ—Ä—ã
- **Focus-—Ä–∏—Ç—É–∞–ª—ã** ‚Äî —É–Ω–∏–∫–∞–ª—å–Ω—ã–µ —Å–≤—è–∑–∫–∏ —Ç–∞—Å–±–∏—Ö–∞, –¥—ã—Ö–∞–Ω–∏—è –∏ –Ω–∞–º–µ—Ä–µ–Ω–∏–π

### –ì–ª–∞–≤–Ω—ã–π –¥–∞—à–±–æ—Ä–¥
- **–û–±–∑–æ—Ä** ‚Äî –µ–¥–∏–Ω—ã–π —ç–∫—Ä–∞–Ω –ø—Ä–æ–≥—Ä–µ—Å—Å–∞ –ø–æ –Ω–∞–º–∞–∑–∞–º, –ø–æ—Å—Ç–∞–º, –ø—Ä–∏–≤—ã—á–∫–∞–º
- **–ê–Ω–∞–ª–∏—Ç–∏–∫–∞** ‚Äî –ø–æ–¥—Å–∫–∞–∑–∫–∏ –ø–æ streak'–∞–º, –±–ª–∏–∂–∞–π—à–∏–º –¥–µ–¥–ª–∞–π–Ω–∞–º
- **–ò–Ω—Å–∞–π—Ç—ã** ‚Äî —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏ –ø–æ —Å–ª–µ–¥—É—é—â–∏–º —à–∞–≥–∞–º
- **–ü—Ä–∏–≤—ã—á–∫–∏** ‚Äî streak 2.0 —Å–æ skip-–¥–Ω—è–º–∏ –±–µ–∑ —à—Ç—Ä–∞—Ñ–∞

## üõ† –¢–µ—Ö–Ω–æ–ª–æ–≥–∏–∏

- **Frontend**: React 18 + TypeScript
- **UI**: shadcn/ui + Tailwind CSS
- **–†–æ—É—Ç–∏–Ω–≥**: React Router
- **State**: React Query + localStorage
- **–°–±–æ—Ä–∫–∞**: Vite
- **Backend**: Supabase Edge Functions
- **–ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏**: Telegram WebApp API, e-Replika API

## üöÄ –ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç

### –¢—Ä–µ–±–æ–≤–∞–Ω–∏—è
- Node.js 18+ –∏–ª–∏ Bun
- npm –∏–ª–∏ yarn

### –£—Å—Ç–∞–Ω–æ–≤–∫–∞

```bash
# –ö–ª–æ–Ω–∏—Ä–æ–≤–∞—Ç—å —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π
git clone https://github.com/ahmed11551/prayer-debt-tracker.git
cd prayer-debt-tracker

# –£—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏
npm install

# –°–∫–æ–ø–∏—Ä–æ–≤–∞—Ç—å –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è
cp env.example .env

# –ó–∞–ø—É—Å—Ç–∏—Ç—å dev —Å–µ—Ä–≤–µ—Ä
npm run dev
```

–ü—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –±—É–¥–µ—Ç –¥–æ—Å—Ç—É–ø–Ω–æ –ø–æ –∞–¥—Ä–µ—Å—É: http://localhost:5173

## üê≥ –ó–∞–ø—É—Å–∫ —á–µ—Ä–µ–∑ Docker

### –û–¥–Ω–æ–π –∫–æ–º–∞–Ω–¥–æ–π

```bash
# –°–±–æ—Ä–∫–∞ –∏ –∑–∞–ø—É—Å–∫
docker-compose up --build

# –ò–ª–∏ –≤ —Ñ–æ–Ω–µ
docker-compose up -d --build
```

–ü—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –±—É–¥–µ—Ç –¥–æ—Å—Ç—É–ø–Ω–æ –ø–æ –∞–¥—Ä–µ—Å—É: http://localhost:3000

### –°–±–æ—Ä–∫–∞ Docker-–æ–±—Ä–∞–∑–∞ –≤—Ä—É—á–Ω—É—é

```bash
# –°–±–æ—Ä–∫–∞
docker build -t prayer-debt-tracker \
  --build-arg VITE_SUPABASE_URL=https://your-project.supabase.co \
  --build-arg VITE_SUPABASE_ANON_KEY=your_key \
  .

# –ó–∞–ø—É—Å–∫
docker run -p 3000:80 prayer-debt-tracker
```

### –ü–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –¥–ª—è Docker

–°–æ–∑–¥–∞–π—Ç–µ —Ñ–∞–π–ª `.env` –ø–µ—Ä–µ–¥ –∑–∞–ø—É—Å–∫–æ–º:

```env
VITE_SUPABASE_URL=https://your-project.supabase.co
VITE_SUPABASE_ANON_KEY=your_anon_key
VITE_API_BASE_URL=https://bot.e-replika.ru/api
PORT=3000
```

## üíª –†–∞–∑—Ä–∞–±–æ—Ç–∫–∞

### –ö–æ–º–∞–Ω–¥—ã

```bash
# –†–∞–∑—Ä–∞–±–æ—Ç–∫–∞
npm run dev

# –°–±–æ—Ä–∫–∞
npm run build

# Preview —Å–±–æ—Ä–∫–∏
npm run preview

# –õ–∏–Ω—Ç–∏–Ω–≥
npm run lint

# –¢–µ—Å—Ç—ã
npm run test

# –¢–µ—Å—Ç—ã —Å UI
npm run test:ui
```

### –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞

```
prayer-debt-tracker/
‚îú‚îÄ‚îÄ src/
‚îÇ   ‚îú‚îÄ‚îÄ components/       # React –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ dashboard/    # –ì–ª–∞–≤–Ω—ã–π –¥–∞—à–±–æ—Ä–¥
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ dhikr/        # –ó–∏–∫—Ä—ã, –¥—É–∞, –∞–∑–∫–∞—Ä—ã
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ qaza/         # –ö–∞–∑–∞-–Ω–∞–º–∞–∑—ã
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ ui/           # UI –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã (shadcn)
‚îÇ   ‚îú‚îÄ‚îÄ lib/              # –£—Ç–∏–ª–∏—Ç—ã –∏ API
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ api.ts        # API –∫–ª–∏–µ–Ω—Ç
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ error-handler.ts  # –û–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫
‚îÇ   ‚îú‚îÄ‚îÄ pages/            # –°—Ç—Ä–∞–Ω–∏—Ü—ã –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è
‚îÇ   ‚îú‚îÄ‚îÄ types/            # TypeScript —Ç–∏–ø—ã
‚îÇ   ‚îî‚îÄ‚îÄ hooks/            # React —Ö—É–∫–∏
‚îú‚îÄ‚îÄ supabase/
‚îÇ   ‚îî‚îÄ‚îÄ functions/        # Supabase Edge Functions
‚îú‚îÄ‚îÄ Dockerfile            # Docker –æ–±—Ä–∞–∑
‚îú‚îÄ‚îÄ docker-compose.yml    # Docker Compose –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è
‚îî‚îÄ‚îÄ API-INTEGRATION.md    # –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è API
```

## üîå API –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è

–ü—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –∏–Ω—Ç–µ–≥—Ä–∏—Ä—É–µ—Ç—Å—è —Å –¥–≤—É–º—è backend'–∞–º–∏:

### 1. Supabase Edge Functions (–æ—Å–Ω–æ–≤–Ω–æ–π backend)
- `prayer-debt-api` ‚Äî —Ä–∞—Å—á—ë—Ç –∏ —Ç—Ä–µ–∫–∏–Ω–≥ –∫–∞–∑–∞-–Ω–∞–º–∞–∑–æ–≤
- `spiritual-path-api` ‚Äî —Ü–µ–ª–∏, –±–µ–π–¥–∂–∏, streaks
- `smart-tasbih-api` ‚Äî —É–º–Ω—ã–π —Ç–∞—Å–±–∏—Ö

### 2. e-Replika API (–∫–æ–Ω—Ç–µ–Ω—Ç)
- `/terms` ‚Äî –∏—Å–ª–∞–º—Å–∫–∏–µ —Ç–µ—Ä–º–∏–Ω—ã
- `/duas` ‚Äî –¥—É–∞
- `/adhkar` ‚Äî –∞–∑–∫–∞—Ä—ã
- `/calendar` ‚Äî –∫–æ–Ω–≤–µ—Ä—Ç–∞—Ü–∏—è –¥–∞—Ç

**–î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è:**
- [API-INTEGRATION.md](./API-INTEGRATION.md) ‚Äî –ø–æ–ª–Ω–∞—è –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏
- [API-REQUIREMENTS.md](./API-REQUIREMENTS.md) ‚Äî —Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è –∫ backend

## ‚öôÔ∏è –ü–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è

| –ü–µ—Ä–µ–º–µ–Ω–Ω–∞—è | –û–ø–∏—Å–∞–Ω–∏–µ | –ü–æ —É–º–æ–ª—á–∞–Ω–∏—é |
|------------|----------|--------------|
| `VITE_API_BASE_URL` | URL e-Replika API | `https://bot.e-replika.ru/api` |
| `VITE_SUPABASE_URL` | URL Supabase –ø—Ä–æ–µ–∫—Ç–∞ | - |
| `VITE_SUPABASE_ANON_KEY` | Supabase Anonymous Key | - |
| `VITE_API_TOKEN` | –¢–æ–∫–µ–Ω –¥–ª—è e-Replika API | `test_token_123` |
| `VITE_USE_SUPABASE_PROXY` | –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å Supabase –ø—Ä–æ–∫—Å–∏ | `false` |
| `PORT` | –ü–æ—Ä—Ç –¥–ª—è Docker | `3000` |

–ü—Ä–∏–º–µ—Ä —Ñ–∞–π–ª–∞ `.env`:

```env
VITE_API_BASE_URL=https://bot.e-replika.ru/api
VITE_SUPABASE_URL=https://fvxkywczuqincnjilgzd.supabase.co
VITE_SUPABASE_ANON_KEY=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9...
VITE_API_TOKEN=your_token
```

## üß™ –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ

```bash
# –ó–∞–ø—É—Å–∫ —Ç–µ—Å—Ç–æ–≤
npm run test

# –¢–µ—Å—Ç—ã —Å –ø–æ–∫—Ä—ã—Ç–∏–µ–º
npm run test:coverage

# –ò–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω—ã–π UI
npm run test:ui
```

## üì± Telegram Mini App

–ü—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –≥–æ—Ç–æ–≤–æ –¥–ª—è –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è –≤ Telegram Mini App:

1. Telegram WebApp API –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∏—Ä—É–µ—Ç—Å—è
2. –ê–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è —á–µ—Ä–µ–∑ `initData`
3. –¢–µ–º–∞ —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∏—Ä—É–µ—Ç—Å—è —Å —Ç–µ–º–æ–π Telegram

## üóÑ –ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö (Drizzle)

```bash
# –ì–µ–Ω–µ—Ä–∞—Ü–∏—è –º–∏–≥—Ä–∞—Ü–∏–π
npm run drizzle:generate

# –ü—Ä–∏–º–µ–Ω–µ–Ω–∏–µ –º–∏–≥—Ä–∞—Ü–∏–π
npm run drizzle:migrate

# Drizzle Studio
npm run drizzle:studio
```

## üì¶ Module Federation

–ü—Ä–æ–µ–∫—Ç –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç –º–∏–∫—Ä–æ—Ñ—Ä–æ–Ω—Ç–µ–Ω–¥ –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä—É:

```js
// Host –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ
import("tasbihRemote/App").then(({ mount }) => {
  mount(document.getElementById("tasbih-root"));
});
```

## üìÑ –õ–∏—Ü–µ–Ω–∑–∏—è

–ü—Ä–æ–µ–∫—Ç —Å–æ–∑–¥–∞–Ω –¥–ª—è –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è –≤ Telegram Mini App MubarakWay.

## üîó –°—Å—ã–ª–∫–∏

- [e-Replika API Documentation](https://bot.e-replika.ru/docs#/)
- [Telegram WebApp API](https://core.telegram.org/bots/webapps)
- [Supabase Documentation](https://supabase.com/docs)
